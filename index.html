<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <!-- font-zoom elker√ºl√©se mobilon + background ugr√°l√°s cs√∂kkent√©se -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Tam√°s Mesters√©ges (AI)</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">

  <style>
    :root{
      --glass-bg: rgba(18, 22, 28, .58);
      --glass-br: 28px;
      --glass-bdr: 1px solid rgba(255,255,255,.08);
      --text: #eaf0f7;
      --muted: #b9c3cf;
      --accent: #ffb23c;
      --bubble-user-from:#ffb23c;
      --bubble-user-to:#ffa21a;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --maxw: 980px;
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }

    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing:antialiased;
      -webkit-text-size-adjust:100%;
      /* NEM haszn√°lunk background-attachment: fixed-et k√∂zvetlen√ºl, mert iOS ugr√°ltat */
      background:#0b1015;
      overflow-x:hidden;
      padding-bottom: var(--safe-bottom);
      touch-action: manipulation; /* double-tap zoom minimaliz√°l√°sa */
    }

    /* Fix h√°tt√©r k√ºl√∂n r√©tegen ‚Äì nem ugr√°l a vh/keyboard miatt */
    body::before{
      content:"";
      position:fixed; inset:0; z-index:-1;
      background: url("bg_tamas.jpg") center/cover no-repeat;
      transform: translateZ(0); /* GPU hint */
      will-change: transform;
    }

    .glass{
      background:var(--glass-bg);
      border:var(--glass-bdr);
      border-radius:var(--glass-br);
      box-shadow:var(--shadow);
      backdrop-filter: blur(10px) saturate(120%);
      -webkit-backdrop-filter: blur(10px) saturate(120%);
    }

    header.app{
      position:sticky; top:0; z-index:10;
      margin:16px auto 0; max-width:var(--maxw); padding:16px 20px;
      padding-top: calc(16px + var(--safe-top));
    }
    header .title{font-size:28px; font-weight:800; letter-spacing:.2px;}
    header .subtitle{color:var(--muted); margin-top:6px}

    .wrap{max-width:var(--maxw); margin:0 auto; padding:16px}
    .chat{
      display:flex; flex-direction:column;
      height:calc(100dvh - 220px);   /* stabilabb mobilon */
      min-height:460px;
      padding:16px;
    }
    .msgs{
      flex:1;
      overflow:auto; padding:4px 4px 12px;
      scroll-behavior:smooth;
      -webkit-overflow-scrolling: touch;
    }
    .row{display:flex; margin:10px 0}
    .msg{
      position:relative;
      max-width:min(720px, 90%);
      padding:16px 18px;
      border-radius:22px;
      box-shadow:0 6px 18px rgba(0,0,0,.18);
      text-shadow:0 1px 2px rgba(0,0,0,.35);
      word-wrap: break-word;
    }
    .bot{background:rgba(0,0,0,.55)}
    .user{
      margin-left:auto;
      color:#222;
      background:linear-gradient(180deg,var(--bubble-user-from),var(--bubble-user-to));
    }
    .msg-tools{
      display:flex; gap:12px; margin:10px 0 0 6px; flex-wrap:wrap
    }
    .tool{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px; border-radius:14px;
      background:rgba(0,0,0,.5); color:#e9eef6; border:1px solid rgba(255,255,255,.08);
      cursor:pointer; user-select:none
    }
    .tool:hover{background:rgba(0,0,0,.62)}
    .tool svg{width:18px;height:18px;opacity:.9}

    .composer{
      position:sticky; bottom:0; left:0; right:0;
      display:flex; gap:10px; align-items:center;
      padding:12px; margin-top:12px;
      background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.35) 60%);
      border-radius:20px;
    }
    .composer .box{
      flex:1; padding:12px 16px; border-radius:16px;
      background:rgba(255,255,255,.92); color:#111;
      border:1px solid rgba(0,0,0,.06);
      font-size:17px; /* iOS ne zoomoljon f√≥kuszkor */
      line-height:1.35;
    }
    .send{
      border:0; cursor:pointer; border-radius:16px; padding:12px 18px; font-weight:700;
      background:linear-gradient(180deg,#ffbf56,#ffa21a); color:#1e1606; box-shadow:0 6px 18px rgba(0,0,0,.2);
      font-size:17px; /* iOS ne zoomoljon gombnyom√°skor sem */
    }
    .send:active{transform:translateY(1px)}

    footer{
      max-width:var(--maxw); margin:8px auto 20px;
      text-align:center; color:var(--muted); text-shadow:0 1px 2px rgba(0,0,0,.5)
    }

    @media (prefers-color-scheme: light){
      :root{
        --glass-bg: rgba(255,255,255,.55);
        --text:#0e141b; --muted:#4a5a6a;
      }
      .bot{background:rgba(255,255,255,.75); text-shadow:none}
      .tool{background:rgba(255,255,255,.7); color:#0e141b; border-color:rgba(0,0,0,.06)}
      header .subtitle{color:#5a6b79}
    }
    ::selection{background:#ffe1a8;color:#1f1404}
  </style>
</head>
<body>

  <!-- FEJL√âC -->
  <header class="app glass">
    <div class="title">Tam√°s Mesters√©ges (AI)</div>
    <div class="subtitle">Halad√≥ fejleszt√©s ‚Äî bar√°ts√°gos magyar asszisztens</div>
  </header>

  <main class="wrap">
    <!-- CHAT PANEL -->
    <section class="chat glass" id="chatPanel" aria-label="Besz√©lget√©s">
      <div id="msgs" class="msgs" role="log" aria-live="polite"></div>

      <form class="composer" id="composer" autocomplete="off">
        <input id="input" class="box" type="text" placeholder="√çrj ide‚Ä¶  Enter = k√ºld√©s" />
        <button id="send" class="send" type="submit">K√ºld√©s</button>
      </form>
    </section>
  </main>

  <!-- L√ÅBL√âC -->
  <footer>¬© Tam√°s AI ‚Äî v√©dett oldal. B√°rmilyen m√°sol√°s jogs√©rt√©snek min≈ës√ºl.</footer>

  <script src="chat.js"></script>
</body>
</html>

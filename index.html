<!doctype html>
<html lang="hu">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Modern Bejelentkez√©s</title>
<style>
  :root{
    --bg1:#1f3b73; --bg2:#6a11cb; --glass:rgba(255,255,255,.08);
    --line:rgba(255,255,255,.15); --text:#e8eefc; --muted:#b8c1ff;
    --accent:#22c55e; --accent2:#60a5fa; --warn:#ef4444;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:
      radial-gradient(1200px 900px at -10% -10%, #ffffff22, transparent 60%),
      radial-gradient(900px 800px at 110% 110%, #00d4ff22, transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    color:var(--text);
    display:grid; place-items:center; padding:24px;
  }
  .card{
    width:min(420px, 92vw);
    background:var(--glass);
    border:1px solid var(--line);
    backdrop-filter: blur(12px);
    border-radius:18px;
    padding:26px 24px;
    box-shadow:0 30px 80px rgba(0,0,0,.35);
    animation:pop .45s ease both;
  }
  @keyframes pop{from{transform:translateY(10px) scale(.985);opacity:.0}to{transform:none;opacity:1}}
  h1{margin:0 0 6px; font-size:26px; letter-spacing:.2px}
  p.hint{margin:0 0 18px; color:var(--muted); font-size:14px}
  label{display:block; margin:14px 0 6px; font-weight:600}
  input{
    width:100%; padding:12px 14px; border-radius:12px; font-size:15px;
    border:1px solid var(--line); background:rgba(5,10,20,.6); color:var(--text);
    transition:border-color .2s, box-shadow .2s, transform .06s;
  }
  input:focus{outline:none; border-color:var(--accent2); box-shadow:0 0 0 4px #60a5fa33}
  .btn{
    margin-top:16px; width:100%; padding:12px 16px; border:0; border-radius:12px;
    background:linear-gradient(90deg,#22c55e,#16a34a); color:#052e1b; font-weight:800; cursor:pointer;
    letter-spacing:.2px; display:inline-flex; align-items:center; justify-content:center; gap:10px;
    transition:filter .2s, transform .06s;
  }
  .btn:hover{filter:brightness(1.05)}
  .btn:active{transform:translateY(1px)}
  .btn[disabled]{opacity:.7; cursor:not-allowed}
  .spinner{
    width:18px; height:18px; border:3px solid #0000; border-top-color:#052e1b; border-right-color:#052e1b; border-radius:50%;
    animation:spin .7s linear infinite;
  }
  @keyframes spin{to{transform:rotate(1turn)}}
  .err{min-height:18px; margin-top:10px; color:#fecaca; font-weight:600}
  /* success view */
  .success{display:none; text-align:center}
  .check{
    margin:10px auto 8px; width:72px; height:72px; border-radius:50%;
    background:radial-gradient(circle at 30% 30%, #ffffff44, #ffffff11);
    border:2px solid #34d399; display:grid; place-items:center;
    animation:pop .4s ease both;
  }
  .toast{
    position:fixed; bottom:18px; left:50%; transform:translateX(-50%);
    background:rgba(15,23,42,.85); border:1px solid var(--line); color:var(--text);
    padding:10px 14px; border-radius:12px; font-size:14px; display:none;
  }
  .shake{animation:shake .3s ease}
  @keyframes shake{ 20%{transform:translateX(-6px)} 40%{transform:translateX(6px)} 60%{transform:translateX(-4px)} 80%{transform:translateX(4px)} 100%{transform:none}}
  a.link{color:var(--accent2); text-decoration:none}
  a.link:hover{text-decoration:underline}
</style>
</head>
<body>
  <main class="card">
    <h1>Bejelentkez√©s</h1>
    <p class="hint">Csak tr√©fa: semmit nem ment√ºnk el. Bel√©p√©s ut√°n hang sz√≥l. üîä</p>

    <form id="form" novalidate>
      <label for="name">N√©v</label>
      <input id="name" name="name" type="text" placeholder="Pl. Kiss Pista" required />

      <label for="email">Email</label>
      <input id="email" name="email" type="email" placeholder="valaki@pelda.hu" autocomplete="email" inputmode="email" required />

      <label for="pwd">Jelsz√≥</label>
      <input id="pwd" name="pwd" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" minlength="4" required />

      <button id="submitBtn" class="btn" type="submit">
        <span>Bel√©pek</span>
      </button>
      <div id="err" class="err" aria-live="polite"></div>
      <p class="hint" style="margin-top:8px">Ha a b√∂ng√©sz≈ë tiltja az automatikus lej√°tsz√°st, a siker k√©perny≈ën lesz egy ‚ÄûLej√°tsz√°s‚Äù link.</p>
    </form>

    <section id="ok" class="success">
      <div class="check">
        <!-- pici inline pipa -->
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M5 13l4 4L19 7" stroke="#34d399" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h2>√údv, <span id="uname"></span>! üòé</h2>
      <p>Sikeres bejelentkez√©s.</p>
      <p><a href="#" id="play" class="link">Lej√°tsz√°s √∫jra</a> ¬∑ <a href="#" id="back" class="link">Kijelentkez√©s</a></p>
    </section>
  </main>

  <div id="toast" class="toast">Kattints b√°rhov√°, ha nem indult el a hang.</div>

  <!-- Hang (tedd a gy√∂k√©rbe): prank_short.mp3 -->
  <audio id="prank" src="prank_short.mp3" preload="auto"></audio>

<script>
  const form  = document.getElementById('form');
  const btn   = document.getElementById('submitBtn');
  const err   = document.getElementById('err');
  const ok    = document.getElementById('ok');
  const uname = document.getElementById('uname');
  const audio = document.getElementById('prank');
  const play  = document.getElementById('play');
  const back  = document.getElementById('back');
  const toast = document.getElementById('toast');

  function showToast(ms=2200){
    toast.style.display='block';
    setTimeout(()=> toast.style.display='none', ms);
  }
  function btnLoading(on){
    if(on){
      btn.setAttribute('disabled','');
      btn.innerHTML = '<span class="spinner" aria-hidden="true"></span><span>Bel√©pek‚Ä¶</span>';
    } else {
      btn.removeAttribute('disabled');
      btn.innerHTML = '<span>Bel√©pek</span>';
    }
  }
  function shake(el){ el.classList.remove('shake'); void el.offsetWidth; el.classList.add('shake'); }

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    err.textContent = '';
    // trim + nat√≠v valid√°ci√≥
    form.email.value = (form.email.value||'').trim();
    if(!form.checkValidity()){
      form.reportValidity();
      shake(form);
      return;
    }
    btnLoading(true);

    // ‚Äúfeldolgoz√°s‚Äù anim√°lt gombbal
    await new Promise(r=>setTimeout(r, 900));

    uname.textContent = (form.name.value||'').trim();
    form.style.display = 'none';
    ok.style.display = 'block';

    try { audio.currentTime = 0; await audio.play(); }
    catch { showToast(); document.body.addEventListener('click', ()=>audio.play(), {once:true}); }

    btnLoading(false);
  });

  play?.addEventListener('click', (e)=>{ e.preventDefault(); try{ audio.currentTime=0; audio.play(); }catch{} });
  back?.addEventListener('click', (e)=>{
    e.preventDefault();
    ok.style.display='none';
    form.reset();
    form.style.display='block';
    try{ audio.pause(); }catch{}
  });
</script>
</body>
</html>

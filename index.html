<!doctype html>
<html lang="hu">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>K√©szen √°llsz? ‚Äì Bejelentkez√©s</title>
<style>
  :root{
    --bg1:#1f3b73; --bg2:#6a11cb; --glass:rgba(255,255,255,.08);
    --line:rgba(255,255,255,.15); --text:#e8eefc; --muted:#b8c1ff;
    --accent:#22c55e; --accent2:#60a5fa;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:linear-gradient(135deg, var(--bg1), var(--bg2));
    color:var(--text);
    display:grid; place-items:center; padding:24px;
  }
  .card,.ready-box{
    width:min(420px, 92vw);
    background:var(--glass);
    border:1px solid var(--line);
    backdrop-filter: blur(12px);
    border-radius:18px;
    padding:26px 24px;
    box-shadow:0 30px 80px rgba(0,0,0,.35);
    animation:pop .45s ease both;
  }
  @keyframes pop{from{transform:translateY(10px) scale(.985);opacity:.0}to{transform:none;opacity:1}}
  h1,h2{margin-top:0}
  p.hint{margin:0 0 18px; color:var(--muted); font-size:14px}
  label{display:block; margin:14px 0 6px; font-weight:600}
  input{
    width:100%; padding:12px 14px; border-radius:12px; font-size:15px;
    border:1px solid var(--line); background:rgba(5,10,20,.6); color:var(--text);
  }
  .btn{
    margin-top:16px; width:100%; padding:12px 16px; border:0; border-radius:12px;
    background:linear-gradient(90deg,#22c55e,#16a34a); color:#052e1b; font-weight:800; cursor:pointer;
  }
  .btn.secondary{
    background:linear-gradient(90deg,#60a5fa,#3b82f6); color:#061327; margin-top:10px;
  }
  .err{min-height:18px; margin-top:10px; color:#fecaca; font-weight:600}
  .success{display:none; text-align:center}
  .check{
    margin:10px auto 8px; width:72px; height:72px; border-radius:50%;
    background:radial-gradient(circle at 30% 30%, #ffffff44, #ffffff11);
    border:2px solid #34d399; display:grid; place-items:center;
  }
  .jokeBox{
    margin:10px auto 0; padding:10px 12px; border-radius:12px;
    border:1px solid var(--line); background:rgba(5,10,20,.35); color:#eaf2ff; min-height:24px;
  }
  /* Ready screen */
  .ready-buttons { display:flex; justify-content:center; gap:15px; margin-top:15px }
  .ready-buttons button {
    background:#667eea; border:0; color:white; padding:10px 18px; border-radius:8px; cursor:pointer; font-size:16px;
  }
  #readyMsg { margin-top:15px; font-size:14px; color:var(--muted) }
  /* Loading */
  .loading{
    position:fixed; inset:0; display:none; place-items:center;
    background:rgba(6,11,23,.65); backdrop-filter: blur(6px); z-index:9999;
  }
  .loader{
    background:rgba(255,255,255,.06); border:1px solid var(--line);
    border-radius:18px; width:min(360px, 92vw); padding:20px; text-align:center;
    box-shadow:0 20px 60px rgba(0,0,0,.45);
  }
  .coffee{margin:6px auto 14px; width:80px; height:80px; position:relative;}
  .cup{width:80px; height:50px; border:3px solid #fff; border-top:none;
    border-radius:0 0 20px 20px; position:absolute; bottom:0;}
  .handle{position:absolute; right:-14px; bottom:18px; width:24px; height:24px;
    border:3px solid #fff; border-left:none; border-radius:0 20px 20px 0;}
  .steam span{
    position:absolute; left:20px; width:6px; height:6px; background:#fff; border-radius:50%;
    animation:rise 2s linear infinite;
  }
  .steam span:nth-child(2){ left:40px; animation-delay:.4s }
  .steam span:nth-child(3){ left:58px; animation-delay:.8s }
  @keyframes rise{
    0%{transform:translateY(0) scale(.8); opacity:.0}
    20%{opacity:.8}
    100%{transform:translateY(-40px) scale(1.1); opacity:0}
  }
</style>
</head>
<body>
  <!-- K√©szen √°llsz k√©perny≈ë -->
  <div id="readyScreen" class="ready-box">
    <h2>K√©szen √°llsz?</h2>
    <div class="ready-buttons">
      <button id="yesBtn">Igen</button>
      <button id="noBtn">Nem</button>
    </div>
    <p id="readyMsg"></p>
  </div>

  <!-- Bejelentkez≈ë k√°rtya -->
  <main class="card" id="loginCard" style="display:none">
    <h1>Bejelentkez√©s</h1>
    <p class="hint">Csak tr√©fa: bel√©p√©s ut√°n hang sz√≥l. üîä</p>
    <form id="form" novalidate>
      <label for="name">N√©v</label>
      <input id="name" name="name" type="text" required />
      <label for="email">Email</label>
      <input id="email" name="email" type="email" required />
      <label for="pwd">Jelsz√≥</label>
      <input id="pwd" name="pwd" type="password" minlength="4" required />
      <button class="btn" type="submit">Bel√©pek</button>
      <div id="err" class="err"></div>
    </form>

    <!-- Siker n√©zet + po√©n gomb -->
    <section id="ok" class="success">
      <div class="check">‚úÖ</div>
      <h2>√údv, <span id="uname"></span>! üòé</h2>
      <div id="jokeBox" class="jokeBox"></div>
      <button id="moreJoke" class="btn secondary" type="button">M√©g egy po√©n</button>
      <p style="margin-top:10px">
        <a href="#" id="play" class="hint">Lej√°tsz√°s √∫jra</a> ¬∑
        <a href="#" id="back" class="hint">Kijelentkez√©s</a>
      </p>
    </section>
  </main>

  <!-- K√°v√©f≈ëz≈ë overlay -->
  <div id="loading" class="loading">
    <div class="loader">
      <div class="coffee">
        <div class="cup"></div>
        <div class="handle"></div>
        <div class="steam"><span></span><span></span><span></span></div>
      </div>
      <p id="loadingText">K√°v√© f≈ëz√©se‚Ä¶</p>
    </div>
  </div>

  <audio id="prank" src="prank_short.mp3" preload="auto"></audio>

<script>
const readyScreen = document.getElementById('readyScreen');
const loginCard = document.getElementById('loginCard');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const readyMsg = document.getElementById('readyMsg');
yesBtn.addEventListener('click', () => { readyScreen.style.display="none"; loginCard.style.display="block"; });
noBtn.addEventListener('click', () => { readyMsg.textContent="Akkor igy√°l m√©g egy k√°v√©t! ‚òï"; });

const form  = document.getElementById('form');
const err   = document.getElementById('err');
const ok    = document.getElementById('ok');
const uname = document.getElementById('uname');
const audio = document.getElementById('prank');
const play  = document.getElementById('play');
const back  = document.getElementById('back');
const loading = document.getElementById('loading');
const loadingText = document.getElementById('loadingText');
const jokeBox = document.getElementById('jokeBox');
const moreJoke = document.getElementById('moreJoke');

const funnyMessages = [
  "K√°v√©szemek ≈ërl√©se‚Ä¶","Cukor kim√©r√©se‚Ä¶","Habos tej el≈ëk√©sz√≠t√©se‚Ä¶",
  "Pressz√≥ ind√≠t√°sa‚Ä¶","Illat ellen≈ërz√©se‚Ä¶","Poh√°r el≈ëmeleg√≠t√©se‚Ä¶",
  "Csokisz√≥r√°s‚Ä¶","Utols√≥ keverget√©s‚Ä¶","Hab form√°z√°sa‚Ä¶",
  "Kiskan√°l pol√≠roz√°sa‚Ä¶","K√°v√© k√©sz! ‚òï"
];

const funnyPrompts = [
  {q:"Nem vagy √°lmos? üò¥", a:"Akkor pihenj m√©g egyet! üõå"},
  {q:"Hozol nekem is s√ºtit? üç™", a:"Pedig szerettem volna s√ºtit... üò¢"},
  {q:"Biztos tudod a jelszavad? üîë", a:"Akkor ink√°bb gyakorolj m√©g! üòÑ"},
  {q:"K√©szen √°llsz a nagy po√©nra? üòÇ", a:"Akkor majd m√°skor! üòâ"},
  {q:"Megmostad a b√∂gr√©ket? ‚òï", a:"Piszkos b√∂gr√©b≈ël nem iszunk! üßº"}
];

const jokes = [
  "Mi√©rt nem iszik a sz√°m√≠t√≥g√©p k√°v√©t? ‚Äì Mert f√©l a crash-t≈ël! üí•",
  "A jelszavam olyan er≈ës, hogy m√©g √©n se tudom‚Ä¶",
  "Ha nem indul a hang: r√°zd meg a b√∂gr√©t! ‚òï",
  "A k√°v√© a v√°lasz. Mi is volt a k√©rd√©s? ü§î",
  "Figyelem! A humor t√∫lzott fogyaszt√°sa mosolyt okozhat. üòÅ",
  "404: S√ºti nem tal√°lhat√≥. üç™",
  "Ne vedd komolyan, ez csak tr√©fa. üòâ"
];
function randomJoke(){ return jokes[Math.floor(Math.random()*jokes.length)]; }

form.addEventListener('submit', async (e)=>{
  e.preventDefault();
  err.textContent = '';
  if(!form.checkValidity()){ form.reportValidity(); return; }

  const ask = funnyPrompts[Math.floor(Math.random()*funnyPrompts.length)];
  const okToProceed = confirm(ask.q);
  if(!okToProceed){ err.textContent = ask.a; return; }

  loading.style.display = 'grid';
  let i = 0;
  loadingText.textContent = funnyMessages[i];
  const iv = setInterval(()=>{ i++; if(i<funnyMessages.length){ loadingText.textContent = funnyMessages[i]; } }, 500);

  await new Promise(r=>setTimeout(r, 4000));
  clearInterval(iv);
  loading.style.display = 'none';

  uname.textContent = form.name.value.trim();
  form.style.display = 'none';
  ok.style.display = 'block';
  jokeBox.textContent = randomJoke();

  try { audio.currentTime = 0; await audio.play(); }
  catch { document.body.addEventListener('click', ()=>audio.play(), {once:true}); }
});

moreJoke.addEventListener('click', ()=>{
  jokeBox.textContent = randomJoke();
});

play.addEventListener('click', e=>{ e.preventDefault(); audio.currentTime=0; audio.play(); });
back.addEventListener('click', e=>{
  e.preventDefault();
  ok.style.display='none';
  form.reset();
  form.style.display='block';
  audio.pause();
});
</script>
</body>
</html>
